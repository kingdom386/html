<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1.0, user-scalable=0" name="viewport"/>
    <meta name="x5-orientation" content="portrait">
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="stylesheet" type="text/css" href="css/reset.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/common.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/order.css" media="screen"/>
    <title>钱包充值</title>
</head>
<body>
<!--头部开始-->
<header class="head-container common-head">
    <a href="javascript:void(0);" onclick="self.location = document.referrer;" class="back-button"></a>
	<h4>钱包充值</h4>
</header>
<!--头部结束-->

<section class="positionRelative">
	<!--充值金额开始-->
	<div class="recharge-price">
		<input type="tel"  onkeyup="recharge(this)" maxlength="6" placeholder="请输入充值金额" />
	</div>
	<!--充值金额结束-->
    <h4 class="purchase-way-title">选择支付方式</h4>

    <div class="order-payment-method">
        <div class="order-payment-method-items sel-active">
            <span class="payment-items-left-icon iconfont icon-my-weixin"></span>
            <!--payment-items-left-icon-->
            <span class="payment-sel-radio iconfont icon-my-ok-gray"><input type="radio"  checked name="payWays" value="1"></span>
            <div class="payment-items-content">
                <p class="payment-title">微信充值</p>
                <p class="payment-intro">使用微信充值，安全便捷</p>
            </div>

        </div>
        <!--order-payment-method-items-->
        <div class="order-payment-method-items">
            <span class="payment-items-left-icon bank-pay-icon"></span>
            <!--payment-items-left-icon-->
            <span class="payment-sel-radio iconfont icon-my-ok-gray"><input type="radio" name="payWays" value="2"></span>
            <div class="payment-items-content">
                <p class="payment-title">支付宝充值</p>
                <p class="payment-intro">使用支付宝充值，安全便捷</p>
            </div>

        </div>
        <!--order-payment-method-items-->
    </div>
    <!--order-payment-method-->
    <div class="purchase-order-money">0.00</div>
    <a href="javascript:void(0);" class="pay-confrm txt-center">立即支付</a>
</section>


<script type="text/javascript" src="js/zepto.min.js"></script>
<script type="text/javascript" src="js/size.js"></script>
<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript">
 
    $(".order-payment-method-items").on('touchend', function () {
        $('.order-payment-method-items').removeClass('sel-active');
        $(".payment-sel-radio input[type^='radio']").removeAttr('checked');
        $("input[type^='radio']", this).attr('checked', 'checked'); 
        $(this).addClass('sel-active');
    });

    var flag = false;
    function recharge(obj) {
        var money = $(obj).val(),
            reg = /^[0-9]{0,}$/;
        reg.test(money) ? ($('.purchase-order-money').html(money), flag = true) : ($('.purchase-order-money').html('0'), $(obj).val(''), flag=false);
    }

    //执行充值
    $('.pay-confrm').bind('touchend', function () {
        //获取充值方式
        var peyMethod = $('input[name="payWays"]:checked').val();
        //1 微信充值  2 支付宝充值

        peyMethod = (peyMethod == 1) ? 'weChat' : 'zhifubao';
        console.log(peyMethod);
        //TODO

    });
  
</script>

</body>
</html>